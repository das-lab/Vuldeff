
LogLevel auth_openidc:debug

## docker
LoadModule auth_openidc_module /usr/lib/apache2/modules/mod_auth_openidc.so
OIDCProviderMetadataURL https://host.docker.internal:9031/.well-known/openid-configuration
OIDCPublicKeyFiles Aenckeykid#/etc/ssl/certs/ssl-cert-snakeoil.pem
OIDCPrivateKeyFiles Aenckeykid#/etc/ssl/private/ssl-cert-snakeoil.key

## native
#LoadModule auth_openidc_module lib/apache2/modules/mod_auth_openidc.so
#OIDCProviderMetadataURL https://localhost:9031/.well-known/openid-configuration
#OIDCPublicKeyFiles Aenckeykid#/opt/local/etc/apache2/server.crt
#OIDCPrivateKeyFiles Aenckeykid#/opt/local/etc/apache2/server.key

OIDCRedirectURI /protected/
OIDCSSLValidateServer Off
OIDCClientID ac_oic_client
OIDCClientSecret abc123DEFghijklmnop4567rstuvwxyzZYXWUT8910SRQPOnmlijhoauthplaygroundapplication
OIDCCryptoPassphrase blabla1234

#OIDCPublicKeyFiles /opt/local/etc/apache2/localhost.zmartzone.eu.pem
#OIDCPrivateKeyFiles /opt/local/etc/apache2/localhost.zmartzone.eu.key

OIDCInfoHook iat access_token access_token_expires id_token userinfo refresh_token session

<Location /protected>
  AuthType openid-connect
  Require valid-user
</Location>

OIDCOAuthSSLValidateServer Off
OIDCOAuthVerifyJwksUri https://host.docker.internal:9031/ext/jwks
OIDCOAuthRemoteUserClaim Username

<Location /api>
  AuthType oauth20
  Require valid-user
</Location>

diff --git a/core/SSViewer.php b/core/SSViewer.php
index 0a5143910cb..9606e6ce279 100644
--- a/core/SSViewer.php
+++ b/core/SSViewer.php
@@ -371,16 +371,18 @@ public function process($item) {
 		array_pop(SSViewer::$topLevel);
 
 		if(isset($_GET['debug_profile'])) Profiler::unmark("SSViewer::process", " for $template");
-		
+				
 		// If we have our crazy base tag, then fix # links referencing the current page.
-		if(strpos($output, '<base') !== false) {
-			if(SSViewer::$options['rewriteHashlinks'] === 'php') {
-				$thisURLRelativeToBase = "<?php echo strip_tags(\$_SERVER['REQUEST_URI']); ?>"; 
-			} else {
-				$thisURLRelativeToBase = strip_tags($_SERVER['REQUEST_URI']); 
+		if(SSViewer::$options['rewriteHashlinks']) {
+			if(strpos($output, '<base') !== false) {
+				if(SSViewer::$options['rewriteHashlinks'] === 'php') {
+					$thisURLRelativeToBase = "<?php echo strip_tags(\$_SERVER['REQUEST_URI']); ?>"; 
+				} else {
+					$thisURLRelativeToBase = strip_tags($_SERVER['REQUEST_URI']); 
+				}
+				$output = preg_replace('/(<a[^>]+href *= *)"#/i', '\\1"' . $thisURLRelativeToBase . '#', $output);
 			}
-			$output = preg_replace('/(<a[^>+]href *= *)"#/i', '\\1"' . $thisURLRelativeToBase . '#', $output);
-		}	
+		}
 		
 		return $output;
 	}

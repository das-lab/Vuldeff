diff --git a/dompdf.php b/dompdf.php
index e7c0a4e11..a9052fa46 100755
--- a/dompdf.php
+++ b/dompdf.php
@@ -227,6 +227,10 @@ function getoptions() {
     }
   }
   
+  if($file_parts['protocol'] === 'php://') {
+    throw new DOMPDF_Exception("Permission denied on $file. This script does not allow PHP streams.");
+  }
+  
   $outfile = "dompdf_out.pdf"; # Don't allow them to set the output file
   $save_file = false; # Don't save the file
   
diff --git a/include/dompdf.cls.php b/include/dompdf.cls.php
index a5658cb08..1be1f8284 100644
--- a/include/dompdf.cls.php
+++ b/include/dompdf.cls.php
@@ -580,13 +580,6 @@ function load_html($str, $encoding = null) {
       $str = substr($str, 3);
     }
 
-    // Parse embedded php, first-pass
-    if ( $this->get_option("enable_php") ) {
-      ob_start();
-      eval("?" . ">$str");
-      $str = ob_get_clean();
-    }
-
     // if the document contains non utf-8 with a utf-8 meta tag chars and was 
     // detected as utf-8 by mbstring, problems could happen.
     // http://devzone.zend.com/article/8855
